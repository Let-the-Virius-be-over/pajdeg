<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>Pajdeg: PDParser</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Pajdeg
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   <div id="projectbrief">Pajdeg</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">PDParser<div class="ingroups"><a class="el" href="a00121.html">Pajdeg Pipes</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Parser implementation for PDF documents.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:a00079"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00079.html">PDParser.h</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00081"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00081.html">PDParserAttachment.h</a></td></tr>
<tr class="memdesc:a00081"><td class="mdescLeft">&#160;</td><td class="mdescRight">An attachment between two parsers. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaac5205e9bfb0f78710333c894c3d318a"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="a00021.html#a00158">PDParser</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a></td></tr>
<tr class="separator:gaac5205e9bfb0f78710333c894c3d318a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga7f7e482b442f8e1078f8e0614074ac0a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#ga7f7e482b442f8e1078f8e0614074ac0a">PDParserCreateWithStream</a> (<a class="el" href="a00137.html#ga00460c750d52f0d7d3c7f8187a71211d">PDTwinStreamRef</a> stream)</td></tr>
<tr class="separator:ga7f7e482b442f8e1078f8e0614074ac0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3d2ee193048ae83e8cf1632392b6cf97"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00029.html#gad244dd3b4044286b711733599137f318">PDBool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#ga3d2ee193048ae83e8cf1632392b6cf97">PDParserIterate</a> (<a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a> parser)</td></tr>
<tr class="separator:ga3d2ee193048ae83e8cf1632392b6cf97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga44036d1d0b1183ae78d14e973ecf0710"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00026.html#ga006d92afec9a8da0ac7ed54122050e73">PDObjectRef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#ga44036d1d0b1183ae78d14e973ecf0710">PDParserConstructObject</a> (<a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a> parser)</td></tr>
<tr class="separator:ga44036d1d0b1183ae78d14e973ecf0710"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5c564a25ae062c5ded85d3de28bad85a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00026.html#ga006d92afec9a8da0ac7ed54122050e73">PDObjectRef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#ga5c564a25ae062c5ded85d3de28bad85a">PDParserCreateNewObject</a> (<a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a> parser)</td></tr>
<tr class="separator:ga5c564a25ae062c5ded85d3de28bad85a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga87dfa8409888bac8a7c694231186b7ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00026.html#ga006d92afec9a8da0ac7ed54122050e73">PDObjectRef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#ga87dfa8409888bac8a7c694231186b7ec">PDParserCreateAppendedObject</a> (<a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a> parser)</td></tr>
<tr class="separator:ga87dfa8409888bac8a7c694231186b7ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9ac5a4f1fd2e0e119ccb330d97d54252"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#ga9ac5a4f1fd2e0e119ccb330d97d54252">PDParserFetchCurrentObjectStream</a> (<a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a> parser, <a class="el" href="a00029.html#ga7bf5d17054ed63682b0cb309545ad1cc">PDInteger</a> obid)</td></tr>
<tr class="separator:ga9ac5a4f1fd2e0e119ccb330d97d54252"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga844230723b4f9dd37a4b01116f6ec47a"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#ga844230723b4f9dd37a4b01116f6ec47a">PDParserLocateAndFetchObjectStreamForObject</a> (<a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a> parser, <a class="el" href="a00026.html#ga006d92afec9a8da0ac7ed54122050e73">PDObjectRef</a> object)</td></tr>
<tr class="separator:ga844230723b4f9dd37a4b01116f6ec47a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac045a451568c887b35f47da9723b224c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00029.html#gad244dd3b4044286b711733599137f318">PDBool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#gac045a451568c887b35f47da9723b224c">PDParserGetEncryptionState</a> (<a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a> parser)</td></tr>
<tr class="separator:gac045a451568c887b35f47da9723b224c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf2162ef8bb96668c56b77214ce3ebcad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00021.html#a00143">pd_stack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#gaf2162ef8bb96668c56b77214ce3ebcad">PDParserLocateAndCreateDefinitionForObject</a> (<a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a> parser, <a class="el" href="a00029.html#ga7bf5d17054ed63682b0cb309545ad1cc">PDInteger</a> obid, <a class="el" href="a00029.html#gad244dd3b4044286b711733599137f318">PDBool</a> master)</td></tr>
<tr class="separator:gaf2162ef8bb96668c56b77214ce3ebcad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa40b27d572c117041009a3533f12084e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00026.html#ga006d92afec9a8da0ac7ed54122050e73">PDObjectRef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#gaa40b27d572c117041009a3533f12084e">PDParserLocateAndCreateObject</a> (<a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a> parser, <a class="el" href="a00029.html#ga7bf5d17054ed63682b0cb309545ad1cc">PDInteger</a> obid, <a class="el" href="a00029.html#gad244dd3b4044286b711733599137f318">PDBool</a> master)</td></tr>
<tr class="separator:gaa40b27d572c117041009a3533f12084e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacbc6fde90bb6ff6077aea911b915dfe3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#gacbc6fde90bb6ff6077aea911b915dfe3">PDParserDone</a> (<a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a> parser)</td></tr>
<tr class="separator:gacbc6fde90bb6ff6077aea911b915dfe3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8b35d94649b033cf0f6ff26e005d6762"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00029.html#gad244dd3b4044286b711733599137f318">PDBool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#ga8b35d94649b033cf0f6ff26e005d6762">PDParserIsObjectStillMutable</a> (<a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a> parser, <a class="el" href="a00029.html#ga7bf5d17054ed63682b0cb309545ad1cc">PDInteger</a> obid)</td></tr>
<tr class="separator:ga8b35d94649b033cf0f6ff26e005d6762"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0d9b0fc7e12fbdb337f99c7cc03b3f27"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00029.html#ga7bf5d17054ed63682b0cb309545ad1cc">PDInteger</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#ga0d9b0fc7e12fbdb337f99c7cc03b3f27">PDParserGetContainerObjectIDForObject</a> (<a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a> parser, <a class="el" href="a00029.html#ga7bf5d17054ed63682b0cb309545ad1cc">PDInteger</a> obid)</td></tr>
<tr class="separator:ga0d9b0fc7e12fbdb337f99c7cc03b3f27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadd7e2cbd916838312f948a2cacdbf77a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00026.html#ga006d92afec9a8da0ac7ed54122050e73">PDObjectRef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#gadd7e2cbd916838312f948a2cacdbf77a">PDParserGetRootObject</a> (<a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a> parser)</td></tr>
<tr class="separator:gadd7e2cbd916838312f948a2cacdbf77a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab5f0f07bca4074c38ab030bfabd9460b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00026.html#ga006d92afec9a8da0ac7ed54122050e73">PDObjectRef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#gab5f0f07bca4074c38ab030bfabd9460b">PDParserGetInfoObject</a> (<a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a> parser)</td></tr>
<tr class="separator:gab5f0f07bca4074c38ab030bfabd9460b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac048fdacaab1b9cc539dcf715b641f4f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00026.html#ga006d92afec9a8da0ac7ed54122050e73">PDObjectRef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#gac048fdacaab1b9cc539dcf715b641f4f">PDParserGetTrailerObject</a> (<a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a> parser)</td></tr>
<tr class="separator:gac048fdacaab1b9cc539dcf715b641f4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6d66fe73f006c44db1a608bc0b5526b1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00117.html#gab9439ac808dcb0cd83bdf002d7af8aae">PDCatalogRef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#ga6d66fe73f006c44db1a608bc0b5526b1">PDParserGetCatalog</a> (<a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a> parser)</td></tr>
<tr class="separator:ga6d66fe73f006c44db1a608bc0b5526b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga20361407023d4e6408d89540726b01a1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00029.html#ga7bf5d17054ed63682b0cb309545ad1cc">PDInteger</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00019.html#ga20361407023d4e6408d89540726b01a1">PDParserGetTotalObjectCount</a> (<a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a> parser)</td></tr>
<tr class="separator:ga20361407023d4e6408d89540726b01a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Parser implementation for PDF documents. </p>
<p>The parser takes a PDTwinStreamRef on creation, and uses PDScannerRef instances to interpret the input PDF and to generate the output PDF document. It provides support for fetching objects from the PDF in a number of ways, inserting objects, and finding things out about the input PDF, such as encryption state, or about a given object, such as whether it is still mutable or not. </p>


<h3><a class="anchor" id="XREF"></a>versioning and indirect stream lengths</h3><div class="textblock">[1]: an intriguing problem arises with PDF's that have data appended to them, where multiple instances of the same object with the same generation ID exist, which have streams that have (inhale) lengths which are indirect references rather than sizes (exhale) &ndash; is this accepted by the PDF spec, you wonder? Adobe InDesign does it, so I can only presume yes, but it seems rather odd; in any case, the problem is demonstrated by the following PDF fragments:PDF 1 0 obj &lt;&lt;/Length 2 0 R&gt;&gt; stream ... endstream endobj 2 0 obj 123 endobj xref 0 3 0000000000 65535 n 0000000005 00000 n &lt;&ndash; obj 1 0000000150 00000 n &lt;&ndash; obj 2, defining obj 1 stream length trailer ... %EOF % here, appended PDF kicks in PDF 1 0 obj &lt;&lt;/Length 2 0 R&gt;&gt; stram ... endstream 2 0 obj 457 endobj xref 0 3 0000000000 65535 n 0000000400 00000 n &lt;&ndash; new obj 1 0000000950 00000 n &lt;&ndash; new obj 2, defining obj 1 stream length ...When Pajdeg sets up the XREF table, it assumes that appended PDF's behave in a sane fashion, i.e. each append results in a set of replacements for given objects which is indeed the case; however, since Pajdeg iterates over <em>all</em> objects, rather than jumping to objects on demand, it encounters objects that are deprecated, such as 1 0 obj above; when Pajdeg hits the (old) 1 0 obj, it tries to move beyond it, but since it has a Length with a reference, Pajdeg looks up the reference IN THE XREF TABLE, which has been overridden, and would incorrectly presume that the length of the (old) 1 0 obj's stream is 457 bytes, when in reality it is 123 bytes. (This is fixed, but at the cost of multi-layer XREF tables.) Additionally, since each PDF append in fact <em>is</em> a patch operation, each XREF table has to not only be kept separate, but has to be properly patched with the previous tables' content. </div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="gaac5205e9bfb0f78710333c894c3d318a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="a00021.html#a00158">PDParser</a>* <a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A parser. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga44036d1d0b1183ae78d14e973ecf0710"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00026.html#ga006d92afec9a8da0ac7ed54122050e73">PDObjectRef</a> PDParserConstructObject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a>&#160;</td>
          <td class="paramname"><em>parser</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Construct a PDObjectRef for the current object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parser</td><td>The parser.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Subsequent calls to <a class="el" href="a00019.html#ga44036d1d0b1183ae78d14e973ecf0710">PDParserConstructObject()</a> if the parser has not iterated does nothing. </dd></dl>

</div>
</div>
<a class="anchor" id="ga87dfa8409888bac8a7c694231186b7ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00026.html#ga006d92afec9a8da0ac7ed54122050e73">PDObjectRef</a> PDParserCreateAppendedObject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a>&#160;</td>
          <td class="paramname"><em>parser</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new object with an appropriate object id (determined via the XREF table) for appending to the end of the output document.</p>
<dl class="section note"><dt>Note</dt><dd>Appended objects are put into a stack awaiting the end of the input PDF. Multiple objects will thus come out in the opposite order in the output PDF file.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parser</td><td>The parser. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga5c564a25ae062c5ded85d3de28bad85a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00026.html#ga006d92afec9a8da0ac7ed54122050e73">PDObjectRef</a> PDParserCreateNewObject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a>&#160;</td>
          <td class="paramname"><em>parser</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new object with an appropriate object id (determined via the XREF table), for insertion.</p>
<p>The object is inserted after the current object in the stream, or at the current position if in between objects.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parser</td><td>The parser. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga7f7e482b442f8e1078f8e0614074ac0a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a> PDParserCreateWithStream </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00137.html#ga00460c750d52f0d7d3c7f8187a71211d">PDTwinStreamRef</a>&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set up a parser with a twin stream</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>The stream to use. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gacbc6fde90bb6ff6077aea911b915dfe3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDParserDone </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a>&#160;</td>
          <td class="paramname"><em>parser</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write remaining objects, XREF table, trailer, and end fluff to output PDF.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parser</td><td>The parser. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga9ac5a4f1fd2e0e119ccb330d97d54252"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* PDParserFetchCurrentObjectStream </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a>&#160;</td>
          <td class="paramname"><em>parser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00029.html#ga7bf5d17054ed63682b0cb309545ad1cc">PDInteger</a>&#160;</td>
          <td class="paramname"><em>obid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fetch the current object's stream, reading from the input source if necessary.</p>
<p>Once fetched, this will simply return the stream buffer as is.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parser</td><td>The parser. </td></tr>
    <tr><td class="paramname">obid</td><td>The object ID of the current object. Assertion is thrown if it does not match the parser's expected ID, or if the current object is not in the original PDF (e.g. from <a class="el" href="a00019.html#ga5c564a25ae062c5ded85d3de28bad85a">PDParserCreateNewObject()</a>). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Stream buffer. </dd></dl>

</div>
</div>
<a class="anchor" id="ga6d66fe73f006c44db1a608bc0b5526b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00117.html#gab9439ac808dcb0cd83bdf002d7af8aae">PDCatalogRef</a> PDParserGetCatalog </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a>&#160;</td>
          <td class="paramname"><em>parser</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set up (if necessary) and return the <a class="el" href="a00021.html#a00145">PDCatalog</a> object for the current PDF.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parser</td><td>The parser. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The catalog containing information about the pages in the PDF. </dd></dl>

</div>
</div>
<a class="anchor" id="ga0d9b0fc7e12fbdb337f99c7cc03b3f27"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00029.html#ga7bf5d17054ed63682b0cb309545ad1cc">PDInteger</a> PDParserGetContainerObjectIDForObject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a>&#160;</td>
          <td class="paramname"><em>parser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00029.html#ga7bf5d17054ed63682b0cb309545ad1cc">PDInteger</a>&#160;</td>
          <td class="paramname"><em>obid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determine the object id of the object stream containing the object with the given id, if any.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parser</td><td>The parser. </td></tr>
    <tr><td class="paramname">obid</td><td>The object whose container object ID is to be determined. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 if the object is not inside an object stream. </dd></dl>

</div>
</div>
<a class="anchor" id="gac045a451568c887b35f47da9723b224c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00029.html#gad244dd3b4044286b711733599137f318">PDBool</a> PDParserGetEncryptionState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a>&#160;</td>
          <td class="paramname"><em>parser</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determine if the PDF is encrypted or not.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parser</td><td>The parser. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if encrypted, false if unencrypted. </dd></dl>

</div>
</div>
<a class="anchor" id="gab5f0f07bca4074c38ab030bfabd9460b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00026.html#ga006d92afec9a8da0ac7ed54122050e73">PDObjectRef</a> PDParserGetInfoObject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a>&#160;</td>
          <td class="paramname"><em>parser</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get an immutable reference to the info object for the input PDF, or NULL if the input PDF does not contain an info object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parser</td><td>The parser </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NULL or the info object reference </dd></dl>

</div>
</div>
<a class="anchor" id="gadd7e2cbd916838312f948a2cacdbf77a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00026.html#ga006d92afec9a8da0ac7ed54122050e73">PDObjectRef</a> PDParserGetRootObject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a>&#160;</td>
          <td class="paramname"><em>parser</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get an immutable reference to the root object for the input PDF.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parser</td><td>The parser. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga20361407023d4e6408d89540726b01a1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00029.html#ga7bf5d17054ed63682b0cb309545ad1cc">PDInteger</a> PDParserGetTotalObjectCount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a>&#160;</td>
          <td class="paramname"><em>parser</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the total number of objects in the input stream.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parser</td><td>The parser. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gac048fdacaab1b9cc539dcf715b641f4f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00026.html#ga006d92afec9a8da0ac7ed54122050e73">PDObjectRef</a> PDParserGetTrailerObject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a>&#160;</td>
          <td class="paramname"><em>parser</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a mutable reference to the trailer object for the PDF.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parser</td><td>The parser</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The trailer object, which is written at the very end and is thus mutable until the PDF is finalized </dd></dl>

</div>
</div>
<a class="anchor" id="ga8b35d94649b033cf0f6ff26e005d6762"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00029.html#gad244dd3b4044286b711733599137f318">PDBool</a> PDParserIsObjectStillMutable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a>&#160;</td>
          <td class="paramname"><em>parser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00029.html#ga7bf5d17054ed63682b0cb309545ad1cc">PDInteger</a>&#160;</td>
          <td class="paramname"><em>obid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determine if object with given id has already been written to output stream (i.e. has become immutable).</p>
<dl class="section warning"><dt>Warning</dt><dd>This method <em>only</em> tells if the object with the given ID has been iterated past already. Whether a PDObjectRef instance is actually mutable or not depends on whether it was inherently immutable or not (objects based on <a class="el" href="a00019.html#gaf2162ef8bb96668c56b77214ce3ebcad">PDParserLocateAndCreateDefinitionForObject()</a> are inherently immutable, and include the object returned from <a class="el" href="a00127.html#ga78dd7cde62e5fedbf045ac86adcab2c1">PDPipeGetRootObject()</a>.).</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parser</td><td>The parser. </td></tr>
    <tr><td class="paramname">obid</td><td>The object ID.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="a00127.html#ga78dd7cde62e5fedbf045ac86adcab2c1">PDPipeGetRootObject</a> </dd>
<dd>
<a class="el" href="a00019.html#gaf2162ef8bb96668c56b77214ce3ebcad">PDParserLocateAndCreateDefinitionForObject</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga3d2ee193048ae83e8cf1632392b6cf97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00029.html#gad244dd3b4044286b711733599137f318">PDBool</a> PDParserIterate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a>&#160;</td>
          <td class="paramname"><em>parser</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Iterate to the next (living) object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parser</td><td>The parser. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false if there are no more objects </dd></dl>

</div>
</div>
<a class="anchor" id="gaf2162ef8bb96668c56b77214ce3ebcad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00021.html#a00143">pd_stack</a> PDParserLocateAndCreateDefinitionForObject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a>&#160;</td>
          <td class="paramname"><em>parser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00029.html#ga7bf5d17054ed63682b0cb309545ad1cc">PDInteger</a>&#160;</td>
          <td class="paramname"><em>obid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00029.html#gad244dd3b4044286b711733599137f318">PDBool</a>&#160;</td>
          <td class="paramname"><em>master</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fetch the definition (as a <a class="el" href="a00021.html#a00143">pd_stack</a>) of the object with the given id.</p>
<dl class="section note"><dt>Note</dt><dd>Use of PDParserLocateAndCreateObject is recommended, as it is generally faster and will not get confused about objects inserted <em>this session</em>.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>This is an expensive operation that requires setting up a temporary buffer of sufficiently big size, seeking to the object in the input file, reading the definition, then seeking back.</dd>
<dd>
This is no longer the recommended way to obtain random access objects. Use PDParserLocateAndCreateObject instead.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parser</td><td>The parser. </td></tr>
    <tr><td class="paramname">obid</td><td>The object ID </td></tr>
    <tr><td class="paramname">master</td><td>If true, the master PDX ref is referenced, otherwise the current PDX ref is used. Generally speaking, you always want to use the master (non-master is used internally to determine the deprecated length of a stream for a multi-part PDF). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaa40b27d572c117041009a3533f12084e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00026.html#ga006d92afec9a8da0ac7ed54122050e73">PDObjectRef</a> PDParserLocateAndCreateObject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a>&#160;</td>
          <td class="paramname"><em>parser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00029.html#ga7bf5d17054ed63682b0cb309545ad1cc">PDInteger</a>&#160;</td>
          <td class="paramname"><em>obid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00029.html#gad244dd3b4044286b711733599137f318">PDBool</a>&#160;</td>
          <td class="paramname"><em>master</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fetch an object reference of the object with the given id.</p>
<dl class="section warning"><dt>Warning</dt><dd>This is an expensive operation that requires setting up a temporary buffer of sufficiently big size, seeking to the object in the input file, reading the definition, then seeking back.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The object is returned as a retained object and must be <a class="el" href="a00138.html#ga19a72abf3c398d15e2e2ba01d38962ef">PDRelease()</a>d or it will leak.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parser</td><td>The parser. </td></tr>
    <tr><td class="paramname">obid</td><td>The object ID </td></tr>
    <tr><td class="paramname">master</td><td>If true, the master PDX ref is referenced, otherwise the current PDX ref is used. Generally speaking, you always want to use the master (non-master is used internally to determine the deprecated length of a stream for a multi-part PDF). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga844230723b4f9dd37a4b01116f6ec47a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* PDParserLocateAndFetchObjectStreamForObject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00019.html#gaac5205e9bfb0f78710333c894c3d318a">PDParserRef</a>&#160;</td>
          <td class="paramname"><em>parser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00026.html#ga006d92afec9a8da0ac7ed54122050e73">PDObjectRef</a>&#160;</td>
          <td class="paramname"><em>object</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fetch the object stream of the given object.</p>
<p>Once fetched, this will simply return the stream buffer as is.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parser</td><td>The parser. </td></tr>
    <tr><td class="paramname">object</td><td>The object whose stream is to be fetched. Assertion is thrown if it is not in the original PDF. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Stream buffer. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jul 27 2014 13:28:29 for Pajdeg by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
